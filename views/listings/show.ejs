<% layout("/layouts/boilerplate") %>

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">

      <!-- Card -->
      <div class="card shadow-lg border-0 rounded-3">
        <!-- Image -->
        <img 
          src="<%= listing.image?.url %>" 
          class="card-img-top rounded-top" 
          alt="Listing Image"
          style="object-fit: cover; height: 350px;"
        />

        <!-- Card Body -->
        <div class="card-body">
          <h2 class="card-title text-primary"><%= listing.title %></h2>
          <p class="card-text text-muted"><%= listing.description || "No description provided." %></p>

          <ul class="list-group list-group-flush mb-3">
            <li class="list-group-item">
              <strong>Price:</strong> &#8377;<%= listing.price.toLocaleString("en-IN") %>
            </li>
            <li class="list-group-item">
              <strong>Location:</strong> <%= listing.location %>
            </li>
            <li class="list-group-item">
              <strong>Country:</strong> <%= listing.country %>
            </li>
          </ul>

          <!-- Buttons -->
          <div class="d-flex justify-content-between mt-3">
            <a href="/listings/<%= listing._id %>/edit" class="btn btn-warning">
              <i class="fa-solid fa-pen-to-square"></i> Edit
            </a>

            <form method="POST" action="/listings/<%= listing._id %>?_method=DELETE" onsubmit="return confirm('Are you sure you want to delete this listing?');">
              <button class="btn btn-danger">
                <i class="fa-solid fa-trash"></i> Delete
              </button>
            </form>
          </div>

        </div>
      </div>

    </div>
  </div>
</div>
